var F=(m,b,s)=>new Promise((w,i)=>{var c=n=>{try{d(s.next(n))}catch(p){i(p)}},h=n=>{try{d(s.throw(n))}catch(p){i(p)}},d=n=>n.done?w(n.value):Promise.resolve(n.value).then(c,h);d((s=s.apply(m,b)).next())});import{d as y,h as A,r as v,j as g,o as M,c as P,k as t,w as o,a as l,t as r,l as k,x as R,_ as S,E as _,B as $}from"./index.5a90395c.js";import{d as I,e as V}from"./make.3dd199c4.js";import{c as j}from"./index.0e306189.js";import{c as N}from"./index.ae708507.js";import O from"./preview-pop.d605f3f4.js";import z from"./relat-plan-pop.76c3fc8f.js";import"./material.85a80f57.js";import"./creative.ea528d59.js";import"./keyword.011c6f30.js";import"./mixShear.0f781a9f.js";import"./live-preview.59156950.js";import"./plat_xhs.a7d0325b.js";import"./Pagination.554cb32d.js";import"./publish.8b41f428.js";import"./index.101c175c.js";const q={class:"card"},G=["onClick"],H={class:"operate"},J=["onClick"],K=["onClick"],L=["onClick"],Q=["onClick"],T=y({__name:"table-card",props:{tableData:{type:Array,defalut:[]},pages:{type:Object,default:{}}},emits:["renewMixShear"],setup(m,{emit:b}){const s=b,w=A(),i=v(),c=v(),h=m,d=u=>{if(!u.plan_num)return _.warning("\u6682\u65E0\u5173\u8054\u53D1\u5E03\u8BA1\u5212");c.value.taskId=u.id,c.value.dialogVisible=!0},n=u=>{console.log(u),i.value.mixId=u.id,i.value.handleOpen()},p=u=>F(this,null,function*(){let{code:f,msg:a}=yield I({id:u.id});f==200?(_.success("\u590D\u5236\u6210\u529F"),s("renewMixShear")):_.error(a)}),D=u=>{w.push(`/make/video/mixShear/mixShearEdit?id=${u.id}`)},E=u=>F(this,null,function*(){u.plan_num||$.alert("\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\uFF1F","\u63D0\u793A",{type:"warning",showCancelButton:!0}).then(()=>F(this,null,function*(){let{code:f,msg:a}=yield V({id:u.id});f==200?(_.success("\u5220\u9664\u6210\u529F"),s("renewMixShear")):_.error(a)})).catch(()=>{console.log("\u53D6\u6D88\u5220\u9664")})}),B=u=>u+1+(h.pages.page-1)*h.pages.limit;return(u,f)=>{const a=g("el-table-column"),x=g("el-table");return M(),P("div",q,[t(x,{data:m.tableData},{default:o(()=>[t(a,{label:"\u5E8F\u53F7",width:"88"},{default:o(({$index:e})=>[l("span",null,r(B(e)),1)]),_:1}),t(a,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"name"}),t(a,{label:"\u89C6\u9891\u6BD4\u4F8B",prop:"ratio",width:"88"}),t(a,{label:"\u7D20\u6750\u6BD4\u4F8B",width:"88"},{default:o(({row:e})=>[l("span",null,r(k(N)(e.scene_ratio)),1)]),_:1}),t(a,{label:"\u80CC\u666F\u6A21\u5F0F",width:"120"},{default:o(({row:e})=>[l("span",null,r(k(j)(e.background)),1)]),_:1}),t(a,{label:"\u80CC\u666F\u6570\u91CF",prop:"background_num",width:"88"}),t(a,{label:"\u7D20\u6750\u6570\u91CF",prop:"material_num",width:"88"}),t(a,{label:"\u5C01\u9762\u6570\u91CF",prop:"video_cover_num",width:"88"}),t(a,{label:"\u97F3\u4E50\u6570\u91CF",width:"88"},{default:o(({row:e})=>[l("span",null,r(e.audio_num||"\u5168\u90E8"),1)]),_:1}),t(a,{label:"\u53E3\u64AD\u6570\u91CF",width:"88"},{default:o(({row:e})=>[l("span",null,r(e.voice_num||"\u5168\u90E8"),1)]),_:1}),t(a,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"update_time",width:"180"}),t(a,{label:"\u5DF2\u5173\u8054\u53D1\u5E03\u8BA1\u5212",width:"160"},{default:o(({row:e})=>[l("span",{class:"tiePlan",onClick:C=>d(e)},r(e.plan_num),9,G)]),_:1}),t(a,{label:"\u64CD\u4F5C",width:"200"},{default:o(({row:e})=>[l("div",H,[l("span",{onClick:C=>n(e)},"\u9884\u89C8",8,J),l("span",{onClick:C=>p(e)},"\u590D\u5236",8,K),l("span",{onClick:C=>D(e)},"\u7F16\u8F91",8,L),l("span",{class:R({disable:e.plan_num}),onClick:C=>E(e)},"\u5220\u9664",10,Q)])]),_:1})]),_:1},8,["data"]),t(O,{ref_key:"previewRef",ref:i},null,512),t(z,{ref_key:"relatPlanRef",ref:c},null,512)])}}}),de=S(T,[["__scopeId","data-v-00753343"]]);export{de as default};
