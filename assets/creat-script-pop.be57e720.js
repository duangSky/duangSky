var N=Object.defineProperty;var k=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var b=(t,o,e)=>o in t?N(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,E=(t,o)=>{for(var e in o||(o={}))R.call(o,e)&&b(t,e,o[e]);if(k)for(var e of k(o))U.call(o,e)&&b(t,e,o[e]);return t};var y=(t,o,e)=>new Promise((c,p)=>{var a=s=>{try{_(e.next(s))}catch(m){p(m)}},v=s=>{try{_(e.throw(s))}catch(m){p(m)}},_=s=>s.done?c(s.value):Promise.resolve(s.value).then(a,v);_((e=e.apply(t,o)).next())});import{_ as j}from"./ratio.d5eac44d.js";import{d as q,r,j as h,o as B,b as P,w as n,k as d,n as x,c as A,y as T,x as z,a as f,t as F,F as L,_ as M,E as V,cj as G,p as H,f as J}from"./index.5a90395c.js";import{k as K}from"./make.3dd199c4.js";const O=t=>(H("data-v-0159ba75"),t=t(),J(),t),Q=["onClick"],W=O(()=>f("div",{class:"file"},[f("img",{src:j,alt:""})],-1)),X={class:"tip"},Y={class:"txt"},Z=q({__name:"creat-script-pop",setup(t,{expose:o}){const e=r(!1),c=r(""),p=r(),a=r({name:"",ratio:"",width:0,height:0}),v=r({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",trigger:"blur"}],ratio:[{required:!0,message:"\u8BF7\u9009\u62E9\u89C6\u9891\u6BD4\u4F8B",trigger:"change"}]}),_=r([{width:720,height:1280,tip:"9:16"},{width:1280,height:720,tip:"16:9"},{width:1280,height:960,tip:"4:3"},{width:1080,height:1080,tip:"1:1"}]),s=u=>{a.value.ratio=u.tip,a.value.width=u.width,a.value.height=u.height},m=()=>y(this,null,function*(){try{yield p.value.validate(),console.log(a.value);let{code:u,data:i,msg:g}=yield K(E({id:c.value},a.value));u==200?(V.success("\u811A\u672C\u4EFB\u52A1\u521B\u5EFA\u6210\u529F"),e.value=!1,window.open(`${G}${i.id}`)):V.error(g)}catch(u){console.log(u)}}),D=()=>{c.value="",a.value.name="",a.value.ratio=""};return o({dialogVisible:e,scriptId:c}),(u,i)=>{const g=h("el-input"),w=h("el-form-item"),S=h("el-form"),C=h("el-button"),I=h("el-dialog");return B(),P(I,{modelValue:e.value,"onUpdate:modelValue":i[2]||(i[2]=l=>e.value=l),title:"\u521B\u5EFA\u811A\u672C\u4EFB\u52A1",draggable:"",width:"580",onClosed:D},{footer:n(()=>[d(C,{onClick:i[1]||(i[1]=l=>e.value=!1)},{default:n(()=>[x("\u53D6\u6D88")]),_:1}),d(C,{type:"primary",onClick:m},{default:n(()=>[x("\u786E\u5B9A")]),_:1})]),default:n(()=>[d(S,{ref_key:"formRef",ref:p,model:a.value,rules:v.value,"label-position":"top"},{default:n(()=>[d(w,{label:"\u540D\u79F0",prop:"name"},{default:n(()=>[d(g,{modelValue:a.value.name,"onUpdate:modelValue":i[0]||(i[0]=l=>a.value.name=l),placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),d(w,{label:"\u9009\u62E9\u6BD4\u4F8B",prop:"ratio",class:"ratio"},{default:n(()=>[(B(!0),A(L,null,T(_.value,(l,$)=>(B(),A("div",{class:z(["ratio_item",{choose:l.tip===a.value.ratio}]),key:$},[f("div",{class:"box",onClick:ee=>s(l)},[W,f("div",X,F(l.tip),1)],8,Q),f("div",Y,F(l.width)+"*"+F(l.height),1)],2))),128))]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}}),se=M(Z,[["__scopeId","data-v-0159ba75"]]);export{se as default};
