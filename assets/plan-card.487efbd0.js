var F=(C,k,n)=>new Promise((E,d)=>{var _=s=>{try{o(n.next(s))}catch(u){d(u)}},f=s=>{try{o(n.throw(s))}catch(u){d(u)}},o=s=>s.done?E(s.value):Promise.resolve(s.value).then(_,f);o((n=n.apply(C,k)).next())});import{d as v,h as A,j as g,o as c,b as $,w as i,k as a,a as p,t as D,l as y,c as h,q as m,_ as w,E as b,B as x}from"./index.5a90395c.js";import{l as R,c as j}from"./index.101c175c.js";import{p as M,a as N}from"./publish.8b41f428.js";const P={class:"operate"},S=["onClick"],V=["onClick"],q=["onClick"],I=["onClick"],O=["onClick"],z=["onClick"],G=v({__name:"plan-card",props:{tableData:{type:Array,default:[]},pages:{type:Object,default:{}}},emits:["handleRenew"],setup(C,{emit:k}){const n=A(),E=k,d=C,_=(u,l)=>F(this,null,function*(){let t={0:"\u5DF2\u6682\u505C",1:"\u5DF2\u7EE7\u7EED",2:"\u5DF2\u7ED3\u675F"},{code:B,msg:e}=yield M({id:u.id,status:l});B==200?(b.success(t[l]),E("handleRenew")):b.error(e)}),f=u=>F(this,null,function*(){x.alert("\u786E\u5B9A\u5220\u9664\u8BE5\u8BA1\u5212\uFF1F","\u63D0\u793A",{type:"warning",showCancelButton:!0}).then(()=>F(this,null,function*(){let{code:l,msg:t}=yield N({id:u.id});l==200?(b.success("\u5220\u9664\u6210\u529F"),E("handleRenew")):b.error(t)})).catch(()=>{console.log("\u53D6\u6D88\u5220\u9664")})}),o=(u,l)=>{console.log(u,l),n.push(`/publish/publishPlan/${l}?id=${u.id}`)},s=u=>u+1+(d.pages.page-1)*d.pages.limit;return(u,l)=>{const t=g("el-table-column"),B=g("el-table");return c(),$(B,{data:C.tableData},{default:i(()=>[a(t,{label:"\u5E8F\u53F7",width:"88"},{default:i(({$index:e})=>[p("span",null,D(s(e)),1)]),_:1}),a(t,{label:"\u8BA1\u5212\u540D\u79F0",prop:"name","show-overflow-tooltip":""}),a(t,{label:"\u8BA1\u5212\u7C7B\u578B",width:"88"},{default:i(({row:e})=>[p("span",null,D(e.mode==="video"?"\u89C6\u9891":"\u56FE\u6587"),1)]),_:1}),a(t,{label:"\u53D1\u5E03\u6A21\u5F0F",width:"120"},{default:i(({row:e})=>[p("span",null,D(y(R)(e.type)),1)]),_:1}),a(t,{label:"\u8D26\u53F7\u6570\u91CF",prop:"account_num",width:"120"}),a(t,{label:"\u53D1\u5E03\u4E2D",prop:"progress_num",width:"120"}),a(t,{label:"\u53D1\u5E03\u7ED3\u675F",prop:"finish_num",width:"120"}),a(t,{label:"\u5F02\u5E38\u7ED3\u675F",prop:"fail_num",width:"120"}),a(t,{label:"\u8BA1\u5212\u72B6\u6001"},{default:i(({row:e})=>[p("span",null,D(y(j)(e.status)),1)]),_:1}),a(t,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"update_time"}),a(t,{label:"\u64CD\u4F5C"},{default:i(({row:e})=>[p("div",P,[e.status===1?(c(),h("span",{key:0,onClick:r=>_(e,0)},"\u6682\u505C",8,S)):m("",!0),e.status===0?(c(),h("span",{key:1,onClick:r=>_(e,1)},"\u7EE7\u7EED",8,V)):m("",!0),e.status!==1&&e.status!==2?(c(),h("span",{key:2,onClick:r=>o(e,"edit")},"\u7F16\u8F91",8,q)):m("",!0),p("span",{onClick:r=>o(e,"task")},"\u67E5\u770B",8,I),e.status===0?(c(),h("span",{key:3,onClick:r=>_(e,2)},"\u7ED3\u675F",8,O)):m("",!0),e.status===2?(c(),h("span",{key:4,onClick:r=>f(e)},"\u5220\u9664",8,z)):m("",!0)])]),_:1})]),_:1},8,["data"])}}}),Q=w(G,[["__scopeId","data-v-5379a4c0"]]);export{Q as default};
