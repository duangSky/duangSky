import{l as S}from"./lodash.a9e36c73.js";import B from"./tag-collapse.be14901a.js";import{u as G}from"./useCopyToClipboard.fba770f6.js";import{d as q,r as y,T as J,j as g,o as l,c,k as i,w as d,F as v,y as k,b as P,n as _,t as C,x as E,l as x,a as n,_ as K,E as O,p as Q,f as U}from"./index.5a90395c.js";const T=a=>(Q("data-v-85f11576"),a=a(),U(),a),W={class:"apart_set"},X={key:1,class:"empty"},Y=T(()=>n("br",null,null,-1)),Z={key:1,class:"empty"},ee=T(()=>n("br",null,null,-1)),te={class:"oral_top"},se=T(()=>n("div",{class:"title"},"\u53E3\u64AD\u6587\u6848",-1)),ae={class:"set_oral"},oe={class:"oral"},le=["innerHTML"],ne=["onClick"],ce=["onClick"],ie={key:1,class:"empty_self"},ue=q({__name:"appart-detail",props:{notPop:{type:Boolean,default:!1},scripts:{type:Array,defalut:[]},tags:{type:Array,defalut:[]},orals:{type:Array,default:[]}},emits:["setPlaylie"],setup(a,{emit:$}){const{clipboardRef:I,copiedRef:R}=G();let u=y([]),p=y("");const r=y([]),H=$,m=a;r.value=S.exports.cloneDeep(m.orals);const V=e=>{p.value!==e.tag_id&&(u.value.length&&(r.value=S.exports.cloneDeep(m.orals),u.value=[]),p.value=e.tag_id,m.tags.forEach(t=>{t.tag_parent_id===e.tag_id&&A(t.tag_name)}))},A=e=>{u.value.push(e),r.value.forEach(t=>{t.theme=t.theme.replaceAll(e,`<strong>${e}</strong>`)})},w=(e,t)=>{u.value.splice(e,1),r.value.forEach(o=>{o.theme=o.theme.replaceAll(`<strong>${t}</strong>`,t)})},F=e=>{p.value="";let t=u.value.findIndex(o=>o===e);t===-1?A(e):w(t,e)},L=()=>{p.value="",r.value.forEach(e=>{e.theme=e.theme.replaceAll("<strong>",""),e.theme=e.theme.replaceAll("</strong>","")}),u.value=[]},M=()=>{let t=m.orals.map(o=>o.theme).join(`
`);D(t)},D=e=>{I.value=e,x(R)&&O.success("\u590D\u5236\u6210\u529F")};let N=J(()=>e=>u.value.some(o=>o===e));return(e,t)=>{const o=g("el-button"),b=g("CopyDocument"),h=g("el-icon"),j=g("VideoPlay");return l(),c("div",W,[i(B,{title:"\u811A\u672C\u7B56\u7565",isExpand:!a.notPop},{content:d(()=>[a.scripts.length?(l(!0),c(v,{key:0},k(a.scripts,s=>(l(),P(o,{plain:"",key:s.tag_id,class:E({choose:s.tag_id===x(p)}),onClick:f=>V(s)},{default:d(()=>[_(C(s.tag_value),1)]),_:2},1032,["class","onClick"]))),128)):(l(),c("div",X,"\u6682\u65E0\u6570\u636E"))]),_:1},8,["isExpand"]),Y,i(B,{title:"\u6807\u7B7E",isExpand:!a.notPop,isReset:Boolean(a.tags.length),selfStyle:{maxHeight:"120px"},onGetReset:L},{content:d(()=>[a.tags.length?(l(!0),c(v,{key:0},k(a.tags,s=>(l(),P(o,{plain:"",key:s.tag_id,class:E({choose:x(N)(s.tag_name)}),onClick:f=>F(s.tag_name)},{default:d(()=>[_(C(s.tag_name),1)]),_:2},1032,["class","onClick"]))),128)):(l(),c("div",Z,"\u6682\u65E0\u6570\u636E"))]),_:1},8,["isExpand","isReset"]),ee,n("div",te,[se,n("div",{class:"copy",onClick:M},[i(h,null,{default:d(()=>[i(b)]),_:1}),_(" \u590D\u5236 ")])]),n("div",ae,[r.value.length?(l(!0),c(v,{key:0},k(r.value,(s,f)=>(l(),c("div",{class:E(["oral_item",{item_hover:a.notPop}]),key:f},[n("div",oe,[n("span",{class:"text-ellipsis-1",innerHTML:s.theme},null,8,le),n("span",{class:"duration",onClick:z=>H("setPlaylie",s.beginTime)},[i(h,null,{default:d(()=>[i(j)]),_:1}),_(" "+C(`${s.beginTime} - ${s.endTime}`),1)],8,ne)]),n("div",{class:"copy",onClick:z=>D(s.theme)},[i(h,null,{default:d(()=>[i(b)]),_:1}),_(" \u590D\u5236 ")],8,ce)],2))),128)):(l(),c("div",ie,"\u6682\u65E0\u6570\u636E"))])])}}}),me=K(ue,[["__scopeId","data-v-85f11576"]]);export{me as default};
