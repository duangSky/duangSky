var R=(w,V,b)=>new Promise((C,y)=>{var h=n=>{try{_(b.next(n))}catch(g){y(g)}},e=n=>{try{_(b.throw(n))}catch(g){y(g)}},_=n=>n.done?C(n.value):Promise.resolve(n.value).then(h,e);_((b=b.apply(w,V)).next())});import{d as G,a0 as U,r as T,j as m,o as r,c as f,k as a,w as u,l as o,F as v,a as s,y as A,b as p,t as D,q as B,n as J,_ as K}from"./index.5a90395c.js";import{u as O}from"./imgText.df790733.js";import{u as P}from"./material.85a80f57.js";import Q from"./process-mode.61b72b32.js";import W from"./border-text.8769c66c.js";import X from"./background-text.44d6ff87.js";import Y from"./border-cards.c9396a2b.js";import{I as Z}from"./ImportMeterial.9b103172.js";import $ from"./background-config.61fe2eab.js";import{d as ee}from"./index.0e306189.js";import{f as oe,b as le,a as ae,d as ue,e as te}from"./index.2523f7b1.js";import"./creative.ea528d59.js";import"./keyword.011c6f30.js";import"./MediumPreview.37c6af48.js";import"./index.browser.2b0920b0.js";import"./AliCloudUpload.13488d40.js";import"./Pagination.554cb32d.js";import"./audio.531569af.js";const re={class:"first"},se={class:"line"},ne={class:"borderSelect"},de={class:"top"},ce={class:"choose"},me={class:"line"},ie={class:"backgroundSelect"},pe={class:"top"},_e={class:"choose"},fe={class:"foot_btns"},be=G({__name:"first-config",emits:["handleStepChange"],setup(w,{emit:V}){const b=V,C=O(),y=P(),{firstClear:h}=C,{form:e}=U(C),{selectMaterals:_,screen:n}=U(y),g=T(),E=T(),N=()=>{e.value.border==="system"?console.log("\u9009\u62E9\u7CFB\u7EDF\u8FB9\u6846"):(console.log("\u6DFB\u52A0\u81EA\u5B9A\u4E49\u8FB9\u6846"),n.value.type="image",n.value.uploadedData=["image"],_.value=e.value.data.Border,E.value.drawer=!0)},I=()=>{e.value.background==="system"?console.log("\u9009\u62E9\u7CFB\u7EDF\u80CC\u666F"):(console.log("\u6DFB\u52A0\u81EA\u5B9A\u4E49\u80CC\u666F"),n.value.type="image",n.value.uploadedData=["image"],_.value=e.value.data.Background,E.value.drawer=!0)},j=F=>{if(!F)return;let t=e.value.process==="border"?"Border":"Background",k={},d=[...e.value.data[t],..._.value];e.value.data[t]=d.reduce((c,i)=>(k[i.id]||(k[i.id]=c.push(i)),c),[]).map(c=>ee(c))},x=F=>{let t=e.value.process==="border"?"Border":"Background";e.value.data[t]=e.value.data[t].filter(k=>k.id!==F.id)},H=()=>R(this,null,function*(){try{yield g.value.validate(),b("handleStepChange",1)}catch(F){console.log(F)}});return(F,t)=>{const k=m("el-input"),d=m("el-form-item"),c=m("el-option"),i=m("el-select"),S=m("DArrowRight"),M=m("el-icon"),q=m("el-form"),L=m("el-scrollbar"),z=m("el-button");return r(),f("div",re,[a(L,null,{default:u(()=>[a(q,{class:"outForm",ref_key:"formRef",ref:g,model:o(e),rules:o(oe)},{default:u(()=>[a(d,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"name"},{default:u(()=>[a(k,{modelValue:o(e).name,"onUpdate:modelValue":t[0]||(t[0]=l=>o(e).name=l),maxlength:"20","show-word-limit":"",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(d,{label:"\u52A0\u5DE5\u6A21\u5F0F",prop:"process"},{default:u(()=>[a(Q)]),_:1}),o(e).process==="border"?(r(),f(v,{key:0},[s("div",se,[a(d,{label:"\u8FB9\u6846\u6A21\u5F0F",prop:"border"},{default:u(()=>[a(i,{modelValue:o(e).border,"onUpdate:modelValue":t[1]||(t[1]=l=>o(e).border=l),onChange:o(h)},{default:u(()=>[(r(!0),f(v,null,A(o(le),l=>(r(),p(c,{key:l.value,value:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),a(d,{label:"\u4F7F\u7528\u6A21\u5F0F",prop:"use_mode"},{default:u(()=>[a(i,{modelValue:o(e).use_mode,"onUpdate:modelValue":t[2]||(t[2]=l=>o(e).use_mode=l)},{default:u(()=>[(r(!0),f(v,null,A(o(ae),l=>(r(),p(c,{key:l.value,value:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),o(e).border?(r(),p(d,{key:0,label:"\u8FB9\u6846\u9009\u62E9",prop:"data.Border"},{default:u(()=>[s("div",ne,[s("div",de,[s("span",ce,"\u5DF2\u9009\uFF1A"+D(o(e).data.Border.length),1),s("div",{class:"pick",onClick:N},[s("span",null,D(o(e).border==="system"?"\u9009\u62E9":"\u6DFB\u52A0")+"\u8FB9\u6846",1),a(M,null,{default:u(()=>[a(S)]),_:1})])]),a(Y,{borders:o(e).data.Border,onHandleDelete:x},null,8,["borders"])])]),_:1})):B("",!0),o(e).border==="system"?(r(),p(d,{key:1,label:"\u8FB9\u6846\u6587\u6848"},{default:u(()=>[a(W)]),_:1})):B("",!0)],64)):B("",!0),o(e).process==="background"?(r(),f(v,{key:1},[s("div",me,[a(d,{label:"\u80CC\u666F\u6A21\u5F0F",prop:"background"},{default:u(()=>[a(i,{modelValue:o(e).background,"onUpdate:modelValue":t[3]||(t[3]=l=>o(e).background=l),onChange:o(h)},{default:u(()=>[(r(!0),f(v,null,A(o(ue),l=>(r(),p(c,{key:l.value,value:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),a(d,{label:"\u4F7F\u7528\u6A21\u5F0F",prop:"use_mode"},{default:u(()=>[a(i,{modelValue:o(e).use_mode,"onUpdate:modelValue":t[4]||(t[4]=l=>o(e).use_mode=l)},{default:u(()=>[(r(!0),f(v,null,A(o(te),l=>(r(),p(c,{key:l.value,value:l.value,label:l.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),o(e).background?(r(),p(d,{key:0,label:"\u80CC\u666F\u9009\u62E9",prop:"data.Background"},{default:u(()=>[s("div",ie,[s("div",pe,[s("span",_e,"\u5DF2\u9009\uFF1A"+D(o(e).data.Background.length),1),s("div",{class:"pick",onClick:I},[s("span",null,D(o(e).background==="system"?"\u9009\u62E9":"\u6DFB\u52A0")+"\u80CC\u666F",1),a(M,null,{default:u(()=>[a(S)]),_:1})])]),a($,{backgrounds:o(e).data.Background,onHandleDelete:x},null,8,["backgrounds"])])]),_:1})):B("",!0),o(e).background==="system"?(r(),p(d,{key:1,label:"\u80CC\u666F\u6587\u6848"},{default:u(()=>[a(X)]),_:1})):B("",!0)],64)):B("",!0)]),_:1},8,["model","rules"])]),_:1}),s("div",fe,[a(z,{type:"primary",onClick:H},{default:u(()=>[J("\u4E0B\u4E00\u6B65")]),_:1})]),a(Z,{ref_key:"meterialRef",ref:E,onCloseDrawer:j},null,512)])}}}),Ne=K(be,[["__scopeId","data-v-6155895a"]]);export{Ne as default};
