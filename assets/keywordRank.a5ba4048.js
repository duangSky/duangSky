var Q=Object.defineProperty;var F=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var E=(s,t,r)=>t in s?Q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,V=(s,t)=>{for(var r in t||(t={}))X.call(t,r)&&E(s,r,t[r]);if(F)for(var r of F(t))Y.call(t,r)&&E(s,r,t[r]);return s};import{i as Z,s as ee}from"./keyword.011c6f30.js";import{_ as te,d as le,g as x,r as _,j as i,v as ae,o as v,b,w as o,a as d,k as l,c as R,y as z,F as S,n as m,t as y,A as oe,l as ne,$ as ue,E as se,p as re,f as de}from"./index.5a90395c.js";import{f as ie}from"./dateUtil.67c53eed.js";const pe=s=>(re("data-v-33bab932"),s=s(),de(),s),ce={class:"keyword_container"},_e={class:"keyword_container_top"},ve={class:"keyword_container_content"},ke={class:"content_top"},me={class:"content_top_left"},ye={class:"content_top_right"},fe={class:"video_title",style:{"max-width":"300px"}},ge=["onClick"],be=pe(()=>d("span",null,"\u65F6\u95F4",-1)),he={class:"pages"},we=le({__name:"keywordRank",setup(s){const t=x({keyword:"",key_type:0}),r=_(),k=_(!1),A=x([{value:10,label:"\u524D10"},{value:15,label:"\u524D15"},{value:20,label:"\u524D20"},{value:30,label:"\u524D30"}]),K=[{value:0,label:"\u5168\u90E8"},{value:1,label:"\u4EA7\u54C1\u8BCD"},{value:2,label:"\u5730\u533A+\u4EA7\u54C1\u8BCD"},{value:3,label:"\u4EA7\u54C1\u8BCD+\u5173\u8054\u8BCD"},{value:4,label:"\u8BDD\u9898\u8BCD"}],u=_({page:1,limit:10,total:0,rank:10,order:"length"}),T=n=>{u.value.rank=n,c()},I=()=>{c()},L=()=>{u.value.page=1,t.keyword="",t.key_type=0,c()},U=_([]),N=n=>{U.value=n},j=n=>{u.value.limit=n,c()},$=n=>{u.value.page=n,c()},h=_([]),c=()=>{let n={filter:{},op:{}};for(let e in t)t[e]&&(n.filter[e]=t[e],n.op[e]=e=="keyword"?"*":"=");k.value=!0,Z(V({page:u.value.page,limit:u.value.limit,order:u.value.order,rank:u.value.rank},n)).then(e=>{e.code==200?(h.value=e.data.list,u.value.total=e.data.total,k.value=!1):(k.value=!1,se.error(e.msg))})},w=_(""),C=(n={})=>{ee(n).then(e=>{e.code==200&&(w.value=ie(e.data.ranktime))})},q=()=>{C({query:!0})},M=n=>{window.open(n)};return C(),c(),(n,e)=>{const O=i("el-input"),f=i("el-form-item"),D=i("el-option"),B=i("el-select"),g=i("el-button"),P=i("el-form"),p=i("el-table-column"),W=i("el-tooltip"),G=i("el-table"),H=i("el-pagination"),J=ae("loading");return v(),b(ne(ue),{title:"\u5173\u952E\u8BCD\u6392\u540D"},{default:o(()=>[d("div",ce,[d("div",_e,[l(P,{model:t,ref_key:"keywordFormRef",ref:r,"label-width":"80px",inline:!0,size:"default"},{default:o(()=>[l(f,{label:"\u5173\u952E\u8BCD",prop:"keyword"},{default:o(()=>[l(O,{modelValue:t.keyword,"onUpdate:modelValue":e[0]||(e[0]=a=>t.keyword=a),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"},null,8,["modelValue"])]),_:1}),l(f,{label:"\u7EC4\u5408\u7C7B\u578B",prop:"key_type"},{default:o(()=>[l(B,{modelValue:t.key_type,"onUpdate:modelValue":e[1]||(e[1]=a=>t.key_type=a),clearable:"",filterable:"",onChange:e[2]||(e[2]=()=>{})},{default:o(()=>[(v(),R(S,null,z(K,a=>l(D,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(f,null,{default:o(()=>[l(g,{type:"primary",size:"default",onClick:I},{default:o(()=>[m("\u67E5\u8BE2")]),_:1}),l(g,{size:"default",onClick:L},{default:o(()=>[m("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model"])]),d("div",ve,[d("div",ke,[d("div",me," \u66F4\u65B0\u65F6\u95F4\uFF1A "+y(w.value),1),d("div",ye,[l(B,{style:{width:"100px"},modelValue:u.value.rank,"onUpdate:modelValue":e[3]||(e[3]=a=>u.value.rank=a),onChange:T},{default:o(()=>[(v(!0),R(S,null,z(A,a=>(v(),b(D,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(g,{type:"primary",size:"default",onClick:q},{default:o(()=>[m("\u66F4\u65B0")]),_:1})])]),oe((v(),b(G,{data:h.value,stripe:"",onSelectionChange:N},{default:o(()=>[l(p,{type:"index"}),l(p,{prop:"keyword",label:"\u5173\u952E\u8BCD",width:""}),l(p,{prop:"rank",label:"\u6392\u540D",width:""}),l(p,{prop:"ranktype",label:"\u6765\u6E90",width:""}),l(p,{prop:"author",label:"\u8D26\u53F7",width:""}),l(p,{prop:"",label:"\u89C6\u9891",width:"300"},{default:o(({row:a})=>[l(W,{placement:"top",effect:"dark"},{content:o(()=>[d("div",fe,y(a.title),1)]),default:o(()=>[d("span",{onClick:Ce=>M(a.videourl)},y(a.title.substring(0,18)),9,ge)]),_:2},1024)]),_:1}),l(p,{prop:"",label:"",width:"150"},{header:o(()=>[be]),default:o(({row:a})=>[d("span",null,y(a.updatetime),1)]),_:1})]),_:1},8,["data"])),[[J,k.value]]),d("div",he,[l(H,{onSizeChange:j,onCurrentChange:$,"current-page":u.value.page,"page-size":u.value.limit,layout:"total, sizes, prev, pager, next",total:u.value.total,background:""},{default:o(()=>[m(' :pager-count="7"> ')]),_:1},8,["current-page","page-size","total"])])])])]),_:1})}}}),Ve=te(we,[["__scopeId","data-v-33bab932"]]);export{Ve as default};
