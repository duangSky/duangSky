var j=Object.defineProperty,E=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var f=(o,e,t)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,v=(o,e)=>{for(var t in e||(e={}))k.call(e,t)&&f(o,t,e[t]);if(m)for(var t of m(e))H.call(e,t)&&f(o,t,e[t]);return o},g=(o,e)=>E(o,V(e));var w=(o,e,t)=>new Promise((c,l)=>{var _=a=>{try{s(t.next(a))}catch(n){l(n)}},d=a=>{try{s(t.throw(a))}catch(n){l(n)}},s=a=>a.done?c(a.value):Promise.resolve(a.value).then(_,d);s((t=t.apply(o,e)).next())});import I from"./PageLayout.315a6bcb.js";import A from"./CreateWrite.c595f8c3.js";import{B as N}from"./aitools.ae73576d.js";import{_ as S,d as W,r as p,j as i,v as D,o as L,b as P,w as u,k as r,a as b,n as O,A as R,p as q,f as J}from"./index.5a90395c.js";import"./AIToolPop.b04822dd.js";import"./useCopyToClipboard.fba770f6.js";const T=o=>(q("data-v-f4730526"),o=o(),J(),o),U=T(()=>b("div",{class:"title"},"\u6587\u6848\u4E3B\u9898",-1)),z={class:"btn"},G=W({__name:"writeHelp",setup(o){const e=p(!1),t=p(""),c=p(),l=p({subject:""}),_={subject:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6848\u4E3B\u9898",trigger:"blur"}]},d=()=>w(this,null,function*(){try{yield c.value.validate(),t.value="",e.value=!0,N({data:g(v({},l.value),{sse:1}),onopen:()=>e.value=!1,onmessage:s=>{t.value+=JSON.parse(s.data).content},finallyHandler:()=>console.log("\u7ED3\u675F")})}catch(s){console.log(s)}});return(s,a)=>{const n=i("el-input"),h=i("el-form-item"),y=i("el-button"),B=i("el-form"),F=i("PageWrapper"),x=D("selfLoading");return L(),P(F,{regain:"AI\u6587\u6848\u5E2E\u5199"},{default:u(()=>[r(I,null,{set:u(()=>[r(B,{ref_key:"ruleFormRef",ref:c,model:l.value,rules:_,"label-position":"top"},{default:u(()=>[r(h,{prop:"subject"},{label:u(()=>[U]),default:u(()=>[r(n,{modelValue:l.value.subject,"onUpdate:modelValue":a[0]||(a[0]=C=>l.value.subject=C),maxlength:"100","show-word-limit":"",placeholder:"\u8BF7\u8F93\u5165\u6587\u6848\u4E3B\u9898"},null,8,["modelValue"])]),_:1}),b("div",z,[r(y,{type:"primary",loading:e.value,style:{width:"350px"},onClick:d},{default:u(()=>[O("\u7ACB\u5373\u751F\u6210")]),_:1},8,["loading"])])]),_:1},8,["model"])]),preview:u(()=>[R(r(A,{writes:t.value,isOpenHelp:""},null,8,["writes"]),[[x,e.value]])]),_:1})]),_:1})}}}),ee=S(G,[["__scopeId","data-v-f4730526"]]);export{ee as default};
