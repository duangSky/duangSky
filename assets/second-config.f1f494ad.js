var b=(g,C,i)=>new Promise((w,f)=>{var y=u=>{try{s(i.next(u))}catch(c){f(c)}},e=u=>{try{s(i.throw(u))}catch(c){f(c)}},s=u=>u.done?w(u.value):Promise.resolve(u.value).then(y,e);s((i=i.apply(g,C)).next())});import{d as q,a0 as x,i as K,r as U,j as _,o as r,c as v,k as n,w as a,l,F,y as T,b as p,q as E,a as $,n as S,_ as j}from"./index.5a90395c.js";import{u as z}from"./material.85a80f57.js";import{u as L}from"./imgText.df790733.js";import M from"./work-title.9e4d411e.js";import G from"./work-tag.d098d807.js";import{s as H}from"./index.2523f7b1.js";import"./creative.ea528d59.js";import"./keyword.011c6f30.js";import"./vuedraggable.umd.dc61d486.js";import"./index.0e306189.js";const J={class:"second"},O={class:"foot_btns"},P=q({__name:"second-config",emits:["handleStepChange"],setup(g,{emit:C}){const i=C,w=z(),f=L(),{keywords:y}=x(w),{form:e,makeData:s}=x(f),u=K(),c=U(),R=d=>{h(d),e.value.data.Zhuci=[]},A=()=>b(this,null,function*(){u.query.id&&e.value.keyword&&h(e.value.keyword)}),h=d=>{let o=y.value.find(m=>m.id===d);for(let m in s.value)s.value[m]=o[m]};A();const B=d=>b(this,null,function*(){try{d>0&&(yield c.value.validate()),i("handleStepChange",d)}catch(o){console.log(o)}});return(d,o)=>{const m=_("el-option"),D=_("el-select"),k=_("el-form-item"),N=_("el-form"),I=_("el-scrollbar"),V=_("el-button");return r(),v("div",J,[n(I,null,{default:a(()=>[n(N,{class:"outForm",ref_key:"formRef",ref:c,model:l(e),rules:l(H),"label-width":"134"},{default:a(()=>[n(k,{label:"\u5173\u952E\u8BCD\u7EC4\u9009\u62E9",prop:"keyword"},{default:a(()=>[n(D,{modelValue:l(e).keyword,"onUpdate:modelValue":o[0]||(o[0]=t=>l(e).keyword=t),style:{width:"40%"},clearable:"",onChange:R},{default:a(()=>[(r(!0),v(F,null,T(l(y),t=>(r(),p(m,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(e).keyword?(r(),p(k,{key:0,label:"\u4EA7\u54C1\u8BCD"},{default:a(()=>[n(D,{modelValue:l(e).data.Zhuci,"onUpdate:modelValue":o[1]||(o[1]=t=>l(e).data.Zhuci=t),style:{width:"40%"},multiple:"",clearable:"",placeholder:"\u4E0D\u9009\u9ED8\u8BA4\u5168\u90E8\u4EA7\u54C1\u8BCD"},{default:a(()=>[(r(!0),v(F,null,T(l(s).zhuci,(t,Z)=>(r(),p(m,{key:Z,label:t.name,value:t.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):E("",!0),l(e).keyword?(r(),p(k,{key:1,label:"\u53D1\u5E03\u4F5C\u54C1\u6807\u9898\u914D\u7F6E",prop:"data.VideoTitle"},{default:a(()=>[n(M)]),_:1})):E("",!0),l(e).keyword?(r(),p(k,{key:2,label:"\u53D1\u5E03\u4F5C\u54C1\u8BDD\u9898\u914D\u7F6E",prop:"data.VideoTags"},{default:a(()=>[n(G)]),_:1})):E("",!0)]),_:1},8,["model","rules"])]),_:1}),$("div",O,[n(V,{plain:"",onClick:o[2]||(o[2]=t=>B(-1))},{default:a(()=>[S("\u4E0A\u4E00\u6B65")]),_:1}),n(V,{type:"primary",onClick:o[3]||(o[3]=t=>B(1))},{default:a(()=>[S("\u4E0B\u4E00\u6B65")]),_:1})])])}}}),re=j(P,[["__scopeId","data-v-90bccfdc"]]);export{re as default};
