var v=(f,r,o)=>new Promise((n,t)=>{var s=e=>{try{u(o.next(e))}catch(a){t(a)}},i=e=>{try{u(o.throw(e))}catch(a){t(a)}},u=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,i);u((o=o.apply(f,r)).next())});import d from"./PageLayout.315a6bcb.js";import g from"./sound-set.4b9203d8.js";import _ from"./sound-history.34af2a0b.js";import{v as y}from"./aitools.ae73576d.js";import{d as F,r as l,j as h,o as C,b as B,w as c,k as m,E as H}from"./index.5a90395c.js";import"./index.browser.2b0920b0.js";import"./config.a0a543ec.js";import"./sample-list.9702bac1.js";import"./ali-cound-upload.18354a64.js";const b=F({__name:"soundClone",setup(f){const r=l({page:1,limit:10}),o=l(!0),n=l(!1),t=l([]),s=()=>v(this,null,function*(){if(!o.value)return;o.value=!1;let{code:e,data:a,msg:p}=yield y(r.value);e==200?(t.value=[...t.value,...a.list],a.total<=t.value.length&&(n.value=!0)):H.error(p),o.value=!0});s();const i=()=>{n.value||(r.value.page++,s())},u=()=>{t.value=[],r.value.page=1,s()};return(e,a)=>{const p=h("PageWrapper");return C(),B(p,{regain:"AI\u58F0\u97F3\u514B\u9686\uFF08\u70B9\u51FB\u7ACB\u5373\u751F\u6210\u540E\u4EA7\u751F\u6D88\u8017\uFF09"},{default:c(()=>[m(d,null,{set:c(()=>[m(g,{onRefreshHistory:u})]),preview:c(()=>[m(_,{historys:t.value,onLoadNext:i},null,8,["historys"])]),_:1})]),_:1})}}});export{b as default};
