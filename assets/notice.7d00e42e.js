import{_ as E,d as V,i as B,u as M,r as w,T as m,g as z,s as D,j as u,o,c as l,k as _,w as i,a as c,F as S,y as A,b as F,x as H,t as g,l as v,$ as U,E as p}from"./index.5a90395c.js";import{d as b}from"./dateUtil.67c53eed.js";import{c as j,l as q}from"./index.89ddba91.js";const I={class:""},P={class:"mail_content",style:{height:"calc(100vh - 210px)"}},R={class:"time"},W=["innerHTML"],$={key:1},G={class:"foot"},J=V({__name:"notice",setup(K){const f=B(),n=M(),r=w(""),d=m({get(){return n.messageList},set(e){n.messageList=e}}),s=z({page:1,limit:14,count:0}),h=m(()=>n.mailTotal),C=()=>{q({page:s.page,limit:s.limit}).then(e=>{e.code==200?(d.value=e.data.list,n.mailTotal=e.data.total):p.error(e.msg)})},y=e=>{j({id:e}).then(a=>{a.code==200?p.success(a.msg):p.error(a.msg)})},x=e=>{console.log(e)},k=e=>{s.page=e,C()};return D(()=>{let e=f.query.id;e&&(r.value=e,y(e))}),(e,a)=>{const L=u("el-collapse-item"),N=u("el-collapse"),T=u("el-pagination");return o(),l("div",I,[_(v(U),{title:"\u901A\u77E5\u516C\u544A"},{default:i(()=>[c("div",P,[_(N,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=t=>r.value=t),accordion:"",onChange:x},{default:i(()=>[(o(!0),l(S,null,A(d.value,t=>(o(),F(L,{key:t.id,name:t.id},{title:i(()=>[c("span",{class:H({un_read:!t.view})},g(t.title),3),c("span",R,g(v(b)(t.updatetime)),1)]),default:i(()=>[t.content?(o(),l("p",{key:0,innerHTML:t.content},null,8,W)):(o(),l("p",$,"\u6682\u65E0"))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),c("div",G,[_(T,{total:h.value,"page-size":s.limit,"current-page":s.page,layout:"total, prev, pager, next",onCurrentChange:k},null,8,["total","page-size","current-page"])])]),_:1})])}}}),Y=E(J,[["__scopeId","data-v-49675564"]]);export{Y as default};
