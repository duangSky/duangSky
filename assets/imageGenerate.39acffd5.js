var f=(v,t,e)=>new Promise((u,l)=>{var g=s=>{try{a(e.next(s))}catch(o){l(o)}},n=s=>{try{a(e.throw(s))}catch(o){l(o)}},a=s=>s.done?u(s.value):Promise.resolve(s.value).then(g,n);a((e=e.apply(v,t)).next())});import C from"./PageLayout.315a6bcb.js";import D from"./generate-set.4813f53e.js";import G from"./HistoryImg.5bc65c23.js";import{c as I}from"./aitools.ae73576d.js";import{_ as w,d as x,r as i,j as B,v as S,o as c,c as _,k as m,w as d,A as k,a as b,E as y}from"./index.5a90395c.js";import"./FakeUpload.9e4a9dfb.js";import"./index.browser.2b0920b0.js";import"./download.71eecab8.js";import"./base64Conver.96a5c530.js";const A={class:"image_generate"},z={class:"preview"},H=["src"],L={key:1},P={class:"history"},N=x({__name:"imageGenerate",setup(v){const t=i(""),e=i(!1),u=i([]),l={prompt:[{required:!0,message:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0",trigger:"blur"}]},g=i([{value:"1024*1024",label:"1024*1024"},{value:"720*1280",label:"720*1280"},{value:"1280*720",label:"1280*720"}]),n=()=>f(this,null,function*(){let{code:r,data:F,msg:p}=yield I({page:1,limit:999});r==200?u.value=F.list:y.error(p)});n();const a=()=>{y.success("\u56FE\u7247\u751F\u6210\u4E2D\uFF0C\u751F\u6210\u8FC7\u7A0B\u4E2D\u8BF7\u52FF\u5173\u95ED\u5F53\u524D\u754C\u9762"),e.value=!0},s=r=>{e.value=!1,console.log(r),t.value=r},o=()=>{e.value=!1},h=()=>{n()};return(r,F)=>{const p=B("PageWrapper"),E=S("selfLoading");return c(),_("div",A,[m(p,{regain:"AI\u56FE\u7247\u751F\u6210",isFull:!1},{default:d(()=>[m(C,null,{set:d(()=>[m(D,{rules:l,sizes:g.value,loading:e.value,onStartGenerate:a,onGenerateSuccess:s,onGenerateError:o},null,8,["sizes","loading"])]),preview:d(()=>[k((c(),_("div",z,[t.value?(c(),_("img",{key:0,src:t.value,alt:""},null,8,H)):(c(),_("span",L,"\u751F\u6210\u7684\u56FE\u7247\u5C06\u5728\u8FD9\u91CC\u5C55\u793A\u5594~"))])),[[E,e.value]])]),_:1})]),_:1}),b("div",P,[m(G,{historyImgs:u.value,onDelSuccess:h},null,8,["historyImgs"])])])}}}),Q=w(N,[["__scopeId","data-v-49d2af0d"]]);export{Q as default};
