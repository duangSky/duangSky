var B=(A,y,p)=>new Promise((b,s)=>{var f=e=>{try{c(p.next(e))}catch(m){s(m)}},r=e=>{try{c(p.throw(e))}catch(m){s(m)}},c=e=>e.done?b(e.value):Promise.resolve(e.value).then(f,r);c((p=p.apply(A,y)).next())});import{a as P}from"./index.a087ce7d.js";import{b as T}from"./creative.ea528d59.js";import $ from"./title-box.06fae1ae.js";import{d as I,r as _,j as v,v as L,o as h,b as V,w as n,k as g,n as C,A as M,O as q,c as x,y as D,a as H,F as E,t as J,l as K,_ as Q,E as R}from"./index.5a90395c.js";const W={class:"children"},X=I({__name:"point-choose-pop",emits:["handleClickAdd"],setup(A,{expose:y,emit:p}){const b=p,s=_(!1),f=_(!1),r=_("houzhui"),c=_([]),e=_([]),m=()=>B(this,null,function*(){f.value=!0;let{code:a,data:l,msg:u}=yield T({type:r.value});if(a==200){let d=[];for(let i in l){let k={title:i,isAll:!1,children:l[i]};d.push(k)}c.value=d}else R.error(u);f.value=!1});m();const w=(a,l)=>{l.children.forEach(u=>{let d=e.value.some(i=>i===u.name);a&&!d?e.value.push(u.name):!a&&d&&(e.value=e.value.filter(i=>i!==u.name))})},U=(a,l)=>{l.isAll=a.length===l.children.length},z=()=>{let a=e.value.join(`
`);b("handleClickAdd",{type:r.value,iptStr:a}),s.value=!1},N=()=>{c.value=[],e.value=[]},O=_({height:"calc(100vh - 360px)"});return y({dialogVisible:s,type:r}),(a,l)=>{const u=v("el-checkbox"),d=v("el-checkbox-group"),i=v("el-scrollbar"),k=v("el-button"),S=v("el-dialog"),j=L("loading");return h(),V(S,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=o=>s.value=o),title:`${K(P)(r.value)}\u9009\u62E9`,width:"1130",draggable:"",onOpen:m,onClose:N},{footer:n(()=>[g(k,{onClick:l[1]||(l[1]=o=>s.value=!1)},{default:n(()=>[C("\u53D6\u6D88")]),_:1}),g(k,{type:"primary",onClick:z},{default:n(()=>[C("\u786E\u5B9A")]),_:1})]),default:n(()=>[M((h(),V(i,{style:q(r.value==="houzhui"?O.value:"")},{default:n(()=>[(h(!0),x(E,null,D(c.value,(o,F)=>(h(),x("div",{class:"item",key:F},[g($,{title:o.title},{right:n(()=>[g(u,{modelValue:o.isAll,"onUpdate:modelValue":t=>o.isAll=t,onChange:t=>w(t,o)},{default:n(()=>[C("\u5168\u9009")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["title"]),H("div",W,[g(d,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value=t),onChange:t=>U(t,o)},{default:n(()=>[(h(!0),x(E,null,D(o.children,(t,G)=>(h(),V(u,{key:G,label:t.name,value:t.name},{default:n(()=>[C(J(t.name),1)]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onChange"])])]))),128))]),_:1},8,["style"])),[[j,f.value]])]),_:1},8,["modelValue","title"])}}}),ae=Q(X,[["__scopeId","data-v-cdfffe1c"]]);export{ae as default};
