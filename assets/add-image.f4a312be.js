import{d as j,a0 as k,r as _,j as c,o as a,c as f,k as g,w as h,F as M,y as V,b as i,ad as N,q as P,a as o,t as C,l as n,_ as T,E,p as q,f as L}from"./index.5a90395c.js";import{u as $}from"./imgTextPublish.0e57f47f.js";import{u as z}from"./material.85a80f57.js";import{I as G}from"./ImportMeterial.9b103172.js";import H from"./image-card.36f6256b.js";import{r as J,p as K}from"./index.101c175c.js";import{E as O}from"./empty.ab2a3794.js";import"./creative.ea528d59.js";import"./keyword.011c6f30.js";import"./index.browser.2b0920b0.js";import"./AliCloudUpload.13488d40.js";import"./Pagination.554cb32d.js";import"./audio.531569af.js";import"./vuedraggable.umd.dc61d486.js";import"./MediumPreview.37c6af48.js";const Q=l=>(q("data-v-33816550"),l=l(),L(),l),U={class:"addImage"},W=["onClick"],X={class:"imgs"},Y={class:"head"},Z={class:"count"},ee=Q(()=>o("span",null,"\u5DF2\u6DFB\u52A0\u56FE\u7247\u6570\u91CF\uFF1A",-1)),ae={class:"num"},te=j({__name:"add-image",setup(l,{expose:D}){const b=$(),S=z(),{form:e}=k(b),{selectMaterals:v,screen:I}=k(S),w=_([{name:"\u7D20\u6750\u5E93",icon:"Plus"}]),y=_(),F=_(),x=s=>{console.log(s),{\u7D20\u6750\u5E93:()=>{v.value=e.value.data.Image,I.value.type="image",I.value.uploadedData=["image"],F.value.drawer=!0}}[s.name]()},A=s=>{if(!s)return;let d=v.value.map(t=>K(t)),p=[...e.value.data.Image,...d],u={};e.value.data.Image=p.reduce((t,r)=>(u[r.id]||(u[r.id]=t.push(r)),t),[]),B()},B=()=>{e.value.data.Image.length>20?(E.warning("\u6700\u591A\u53EF\u6DFB\u52A020\u4E2A\uFF01"),e.value.data.Image=e.value.data.Image.slice(0,20)):E.success("\u89C6\u9891\u6DFB\u52A0\u6210\u529F")};return D({formRef:y}),(s,d)=>{const p=c("el-icon"),u=c("el-form-item"),t=c("el-form"),r=c("el-empty");return a(),f("div",U,[g(t,{ref_key:"formRef",ref:y,model:n(e),rules:n(J)},{default:h(()=>[g(u,{class:"btns",prop:"data.Image"},{default:h(()=>[(a(!0),f(M,null,V(w.value,(m,R)=>(a(),f("div",{class:"btnItem",key:R,onClick:oe=>x(m)},[m.icon?(a(),i(p,{key:0},{default:h(()=>[(a(),i(N(m.icon)))]),_:2},1024)):P("",!0),o("span",null,C(m.name),1)],8,W))),128))]),_:1})]),_:1},8,["model","rules"]),o("div",X,[o("div",Y,[o("div",Z,[ee,o("span",ae,C(n(e).data.Image.length)+"/20",1)])]),n(e).data.Image.length?(a(),i(H,{key:0})):(a(),i(r,{key:1,image:n(O),description:"\u6682\u65E0\u6570\u636E"},null,8,["image"]))]),g(G,{ref_key:"meterialRef",ref:F,onCloseDrawer:A},null,512)])}}}),Ie=T(te,[["__scopeId","data-v-33816550"]]);export{Ie as default};
