import{d as M,a0 as I,r as j,T as g,j as c,o as n,c as u,k as i,w as p,F as A,y as P,b as S,a as m,l as v,q as h,O as T,x as L,_ as V,ab as x}from"./index.5a90395c.js";import{p as z,a as D,b as F,c as O,d as X}from"./plat_xhs.a7d0325b.js";import{u as $}from"./imgText.df790733.js";const q={class:"livePreview"},E=["src"],K=["src"],U=["src"],G=["src"],H=M({__name:"live-preview",props:{preview:{type:Object,default:{}}},setup(y,{expose:B}){const N=$(),{form:e}=I(N),_=j(),C=y,s=(a,o)=>parseInt(Math.random()*(o-a+1)+a),k=g(()=>{let a=0,o=x(e.value.data.Material),d=x(e.value.data.Scene);e.value.data.NumMode===1?a=Number(e.value.data.AppointNum):a=s(e.value.data.RandomNum[0],e.value.data.RandomNum[1]);let r=[];if(e.value.data.MaterialConfig===1)if(e.value.data.MaterialUseMode===0)for(let t=0;t<a;t++){let l=s(0,o.length-1);r.push(o[l])}else for(let t=0;t<a;t++){let l=s(0,o.length-1);r.push(o.splice(l,1)[0])}else for(let t=0;t<a;t++){let l=s(0,d[t].length-1);r.push(d[t][l])}return r}),b=g(()=>({all:"",douyin:z,kuaishou:D,shipinhao:F,xigua:O,xiaohongshu:X})[C.preview.plat]),w=g(()=>{let a={};return e.value.process==="border"?a=e.value.data.Border[s(0,e.value.data.Border.length-1)]:e.value.process==="background"&&(a=e.value.data.Background[s(0,e.value.data.Background.length-1)]),a});return B({randomMaterials:k}),(a,o)=>{const d=c("el-carousel-item"),r=c("el-carousel"),t=c("ArrowLeftBold"),l=c("el-icon"),R=c("ArrowRightBold");return n(),u("div",q,[i(r,{ref_key:"carouselRef",ref:_,arrow:"never",autoplay:!1},{default:p(()=>[(n(!0),u(A,null,P(k.value,f=>(n(),S(d,null,{default:p(()=>[m("div",{class:L(["content",{none:v(e).process==="none"}])},[v(e).process==="border"?(n(),u("img",{key:0,class:"graceImg",src:w.value.cover_url,alt:""},null,8,E)):h("",!0),m("img",{class:"materialImg",style:T(v(e).process==="background"?"object-fit: contain":""),src:f.cover_url,alt:""},null,12,K),v(e).process==="background"?(n(),u("img",{key:1,class:"backgroundImg",src:w.value.cover_url,alt:""},null,8,U)):h("",!0)],2)]),_:2},1024))),256))]),_:1},512),b.value?(n(),u("img",{key:0,class:"plat",src:b.value,alt:""},null,8,G)):h("",!0),m("div",{class:"left",onClick:o[0]||(o[0]=f=>_.value.prev())},[i(l,null,{default:p(()=>[i(t)]),_:1})]),m("div",{class:"right",onClick:o[1]||(o[1]=f=>_.value.next())},[i(l,null,{default:p(()=>[i(R)]),_:1})])])}}}),Y=V(H,[["__scopeId","data-v-c3f63628"]]);export{Y as default};
