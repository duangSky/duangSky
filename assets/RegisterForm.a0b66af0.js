var k=(V,C,n)=>new Promise((d,t)=>{var i=s=>{try{l(n.next(s))}catch(m){t(m)}},b=s=>{try{l(n.throw(s))}catch(m){t(m)}},l=s=>s.done?d(s.value):Promise.resolve(s.value).then(i,b);l((n=n.apply(V,C)).next())});import{d as z,r as B,g as P,j as c,o as y,b as U,w as u,k as e,l as g,a as v,n as F,t as L,c as M,q as N,m as O,E}from"./index.5a90395c.js";import{P as S,L as x}from"./PersonOutline.ce39648a.js";import{M as I,S as K}from"./SafetyOutlined.e7bb2cf5.js";const R={class:"flex w-full"},j={key:0},G={class:"flex justify-between"},T={class:"flex-initial"},X=z({__name:"RegisterForm",emits:["backLogin"],setup(V,{emit:C}){const n=B(),d=B(!1),t=B("\u83B7\u53D6\u9A8C\u8BC1\u7801"),i=B(!1),b=C,l=P({username:"",password:"",retPassword:"",mobile:"",code:"",agreement:!1}),s={username:{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},mobile:{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",trigger:"blur"},code:{required:!0,message:"\u8BF7\u8F93\u5165\u77ED\u4FE1\u9A8C\u8BC1\u7801",trigger:"blur"},password:{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},retPassword:{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801",trigger:"blur"},agreement:{required:!0,type:"boolean",trigger:"change",message:"\u8BF7\u5148\u52FE\u9009\u534F\u8BAE",validator:(p,o)=>o===!0}},m=()=>{d.value=!0,n.value.validate(p=>k(this,null,function*(){p?(E.success("\u6CE8\u518C\u51C6\u5907\u5C31\u7EEA"),d.value=!1):(d.value=!1,E({message:"\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F",type:"error"}))}))},h=()=>{b("backLogin")};function A(){t.value=60,i.value=!0;let p=setInterval(()=>{t.value--,t.value<=0&&(clearInterval(p),t.value="\u83B7\u53D6\u9A8C\u8BC1\u7801",i.value=!1)},1e3)}return(p,o)=>{const f=c("el-icon"),_=c("el-input"),r=c("el-form-item"),w=c("el-button"),D=c("el-checkbox"),q=c("el-form");return y(),U(q,{ref_key:"formRef",ref:n,"show-label":!1,"show-require-mark":!1,size:"large",model:l,rules:s},{default:u(()=>[e(r,{prop:"username"},{default:u(()=>[e(_,{modelValue:l.username,"onUpdate:modelValue":o[0]||(o[0]=a=>l.username=a),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},{prefix:u(()=>[e(f,{class:"el-input__icon",size:"18",color:"#808695"},{default:u(()=>[e(g(S))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{prop:"mobile"},{default:u(()=>[v("div",R,[e(_,{class:"order-first",modelValue:l.mobile,"onUpdate:modelValue":o[1]||(o[1]=a=>l.mobile=a),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},{prefix:u(()=>[e(f,{class:"el-input__icon",size:"18",color:"#808695"},{default:u(()=>[e(g(I))]),_:1})]),_:1},8,["modelValue"]),e(w,{class:"order-last ml-3",disabled:i.value,onClick:A},{default:u(()=>[F(L(t.value),1),i.value?(y(),M("span",j,"s")):N("",!0)]),_:1},8,["disabled"])])]),_:1}),e(r,{prop:"code"},{default:u(()=>[e(_,{modelValue:l.code,"onUpdate:modelValue":o[2]||(o[2]=a=>l.code=a),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},{prefix:u(()=>[e(f,{class:"el-input__icon",size:"18",color:"#808695"},{default:u(()=>[e(g(K))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{prop:"password"},{default:u(()=>[e(_,{modelValue:l.password,"onUpdate:modelValue":o[3]||(o[3]=a=>l.password=a),type:"password","show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{prefix:u(()=>[e(f,{class:"el-input__icon",size:"18",color:"#808695"},{default:u(()=>[e(g(x))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{prop:"retPassword"},{default:u(()=>[e(_,{modelValue:l.retPassword,"onUpdate:modelValue":o[4]||(o[4]=a=>l.retPassword=a),type:"password","show-password":"",placeholder:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",onKeyup:O(m,["enter"])},{prefix:u(()=>[e(f,{class:"el-input__icon",size:"18",color:"#808695"},{default:u(()=>[e(g(x))]),_:1})]),_:1},8,["modelValue","onKeyup"])]),_:1}),e(r,{class:"default-color",prop:"agreement"},{default:u(()=>[v("div",G,[v("div",T,[e(D,{modelValue:l.agreement,"onUpdate:modelValue":o[5]||(o[5]=a=>l.agreement=a)},{default:u(()=>[F("\u6211\u540C\u610F\u9690\u79C1\u534F\u8BAE")]),_:1},8,["modelValue"])])])]),_:1}),e(r,{"show-label":!1},{default:u(()=>[e(w,{class:"w-full",type:"primary",onClick:m,size:"large",loading:d.value},{default:u(()=>[F(" \u6CE8\u518C ")]),_:1},8,["loading"])]),_:1}),e(r,{"show-label":!1},{default:u(()=>[e(w,{class:"w-full",size:"large",block:"",onClick:h},{default:u(()=>[F("\u8FD4\u56DE")]),_:1})]),_:1})]),_:1},8,["model"])}}});export{X as default};
