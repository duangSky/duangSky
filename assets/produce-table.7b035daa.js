var b=(o,d,n)=>new Promise((r,c)=>{var _=a=>{try{p(n.next(a))}catch(e){c(e)}},F=a=>{try{p(n.throw(a))}catch(e){c(e)}},p=a=>a.done?r(a.value):Promise.resolve(a.value).then(_,F);p((n=n.apply(o,d)).next())});import{d as D,h as A,j as m,o as h,b as f,w as i,k as u,a as l,t as k,n as v,l as y,c as x,_ as $,cj as S,E,B as T,p as I,f as V}from"./index.5a90395c.js";import{v as j}from"./make.3dd199c4.js";import{g as N}from"./index.458bd848.js";const M=o=>(I("data-v-755184d4"),o=o(),V(),o),O=M(()=>l("div",{class:"operate disable"},[l("span",null,"\u7EE7\u7EED\u521B\u4F5C"),l("span",null,"\u67E5\u770B\u4EFB\u52A1"),l("span",null,"\u5220\u9664")],-1)),P={key:1,class:"operate"},R=["onClick"],U=["onClick"],q=["onClick"],z=D({__name:"produce-table",props:{list:{type:Array,default:[]},pages:{type:Object,default:{}}},emits:["deleteSuccess"],setup(o,{emit:d}){const n=A(),r=d,c=o,_=e=>e+1+(c.pages.page-1)*c.pages.limit,F=e=>{window.open(`${S}${e}`)},p=e=>{if(!e)return E.warning("\u65E0id");n.push(`/make/produce/task?id=${e}`)},a=e=>{T.alert("\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\uFF1F","\u63D0\u793A",{type:"warning",showCancelButton:!0}).then(()=>b(this,null,function*(){let{code:B,msg:t}=yield j({id:e});B==200?(E.success("\u5220\u9664\u6210\u529F"),r("deleteSuccess")):E.error(t)})).catch(()=>{console.log("\u53D6\u6D88\u5220\u9664")})};return(e,B)=>{const t=m("el-table-column"),w=m("el-tooltip"),g=m("el-table");return h(),f(g,{data:o.list},{default:i(()=>[u(t,{label:"\u5E8F\u53F7",width:"88"},{default:i(s=>[l("span",null,k(_(s.$index)),1)]),_:1}),u(t,{label:"\u5236\u4F5C\u4EFB\u52A1\u540D\u79F0",prop:"name"}),u(t,{label:"\u4EFB\u52A1\u6A21\u5F0F",width:"140"},{default:i(({row:s})=>[v(k(y(N)(s.type)),1)]),_:1}),u(t,{label:"\u89C6\u9891\u6BD4\u4F8B",prop:"ratio",width:"140"}),u(t,{label:"\u89C6\u9891\u6570\u91CF",prop:"video_num",width:"120"}),u(t,{label:"\u5DF2\u5B8C\u6210",prop:"finish_num",width:"120"}),u(t,{label:"\u5408\u6210\u4E2D",prop:"create_num",width:"120"}),u(t,{label:"\u5F85\u5408\u6210",prop:"wait_num",width:"120"}),u(t,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"update_time",width:"220"}),u(t,{label:"\u64CD\u4F5C",width:"200px"},{default:i(({row:s})=>[s.status===-1?(h(),f(w,{key:0,content:"\u4EFB\u52A1\u521B\u5EFA\u4E2D\uFF0C\u8BF7\u7A0D\u7B49",placement:"top"},{default:i(()=>[O]),_:1})):(h(),x("div",P,[l("span",{onClick:C=>F(s.id)},"\u7EE7\u7EED\u521B\u4F5C",8,R),l("span",{onClick:C=>p(s.id)},"\u67E5\u770B\u4EFB\u52A1",8,U),l("span",{onClick:C=>a(s.id)},"\u5220\u9664",8,q)]))]),_:1})]),_:1},8,["data"])}}}),L=$(z,[["__scopeId","data-v-755184d4"]]);export{L as default};
