var D=(y,b,i)=>new Promise((r,_)=>{var m=o=>{try{p(i.next(o))}catch(h){_(h)}},a=o=>{try{p(i.throw(o))}catch(h){_(h)}},p=o=>o.done?r(o.value):Promise.resolve(o.value).then(m,a);p((i=i.apply(y,b)).next())});import S from"./title-box.06fae1ae.js";import{b as q}from"./keyword.011c6f30.js";import{d as G,r as C,j as g,v as I,o as c,b as V,w as s,k as v,n as k,A as L,c as x,y as B,a as M,F as E,t as T,_ as $,E as z}from"./index.5a90395c.js";const H={class:"children"},J=G({__name:"area-choose-pop",emits:["handleClickAdd"],setup(y,{expose:b,emit:i}){const r=C(!1),_=C([]),m=C(!1),a=C([]),p=i,o=()=>D(this,null,function*(){m.value=!0;let{code:t,data:e,msg:u}=yield q();t==200?_.value=e.map(d=>(d.isAll=!1,d)):z.error(u),m.value=!1}),h=(t,e)=>{e.children.forEach(u=>{let d=a.value.some(f=>f===u.name);t&&!d?a.value.push(u.name):!t&&d&&(a.value=a.value.filter(f=>f!==u.name))})},w=(t,e)=>{e.isAll=t.length===e.children.length},U=()=>{let t=a.value.join(`
`);p("handleClickAdd",{type:"diqu",iptStr:t}),r.value=!1},N=()=>{a.value=[]};return b({dialogVisible:r}),(t,e)=>{const u=g("el-checkbox"),d=g("el-checkbox-group"),f=g("el-scrollbar"),A=g("el-button"),j=g("el-dialog"),F=I("loading");return c(),V(j,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=n=>r.value=n),title:"\u5730\u533A\u8BCD\u9009\u62E9",width:"1170",draggable:"",onOpen:o,onClose:N},{footer:s(()=>[v(A,{onClick:e[1]||(e[1]=n=>r.value=!1)},{default:s(()=>[k("\u53D6\u6D88")]),_:1}),v(A,{type:"primary",onClick:U},{default:s(()=>[k("\u786E\u5B9A")]),_:1})]),default:s(()=>[L((c(),V(f,null,{default:s(()=>[(c(!0),x(E,null,B(_.value,(n,O)=>(c(),x("div",{class:"item",key:O},[v(S,{title:n.name},{right:s(()=>[v(u,{modelValue:n.isAll,"onUpdate:modelValue":l=>n.isAll=l,onChange:l=>h(l,n)},{default:s(()=>[k("\u5168\u9009")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["title"]),M("div",H,[v(d,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),onChange:l=>w(l,n)},{default:s(()=>[(c(!0),x(E,null,B(n.children,(l,P)=>(c(),V(u,{key:P,label:l.name,value:l.name},{default:s(()=>[k(T(l.name),1)]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onChange"])])]))),128))]),_:1})),[[F,m.value]])]),_:1},8,["modelValue"])}}}),X=$(J,[["__scopeId","data-v-778833bb"]]);export{X as default};
